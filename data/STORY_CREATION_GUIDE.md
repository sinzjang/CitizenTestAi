# 🎯 미국 시민권 시험 스토리 작성 완벽 가이드

## 📋 목표
128개의 미국 시민권 시험 문제를 **재미있고 기억하기 쉬운 스토리**로 변환

---

## 🎨 JSON 출력 형식

```json
{
  "content_ko": [
    {"type": "normal", "text": "스토리 텍스트 "},
    {"type": "answer", "text": "정답 키워드"},
    {"type": "normal", "text": " 계속 (Q.1)."}
  ],
  "linkedQuestions": [1, 2, 3]
}
```

---

## ✅ 핵심 규칙

| 항목 | 설명 |
|------|------|
| `type: "normal"` | 일반 스토리 텍스트 |
| `type: "answer"` | 정답 키워드 (앱에서 **강조 표시**) |
| `(Q.번호)` | 각 문제 끝에 표시 |
| `linkedQuestions` | 해당 섹션이 다루는 문제 번호 배열 |

### 중요 사항:
- ✅ 모든 정답 키워드 반드시 포함
- ✅ 쉼표로 구분된 답변은 각각 별도 `answer` 타입으로
- ✅ 자연스러운 스토리 흐름 유지
- ✅ 여러 문제를 하나의 섹션으로 연결 가능

---

## 📝 상세 예시

### 입력 데이터:
```
Q.1: 미국 정부는 어떤 형태의 정부인가?
정답: 공화국, 헌법 기반 연방 공화국, 대의민주주의

Q.2: 국가의 최고의 법은 무엇인가?
정답: 헌법

Q.3: 미국 헌법이 하는 일 중 하나가 무엇인지 말하라.
정답: 정부를 구성함, 정부의 권한을 정의함, 정부의 부서들을 정의함, 국민의 권리를 보호함
```

### 올바른 출력:
```json
{
  "content_ko": [
    {"type": "normal", "text": "미국이라는 나라는 "},
    {"type": "answer", "text": "공화국"},
    {"type": "normal", "text": "이자 "},
    {"type": "answer", "text": "헌법 기반 연방 공화국"},
    {"type": "normal", "text": ", 그리고 "},
    {"type": "answer", "text": "대의민주주의"},
    {"type": "normal", "text": " 형태로 운영됩니다 (Q.1). 이 나라의 가장 중요한 규칙이자 최고의 법은 바로 "},
    {"type": "answer", "text": "헌법"},
    {"type": "normal", "text": "입니다 (Q.2). 이 위대한 헌법은 세 가지 핵심 역할을 합니다: "},
    {"type": "answer", "text": "정부를 구성"},
    {"type": "normal", "text": "하고, "},
    {"type": "answer", "text": "정부의 권한을 정의"},
    {"type": "normal", "text": "하며, "},
    {"type": "answer", "text": "정부의 부서들을 정의"},
    {"type": "normal", "text": "하고, 가장 중요하게는 "},
    {"type": "answer", "text": "국민의 권리를 보호"},
    {"type": "normal", "text": "합니다 (Q.3)."}
  ],
  "linkedQuestions": [1, 2, 3]
}
```

---

## 🤖 AI 프롬프트 템플릿

```
당신은 미국 시민권 시험 문제를 재미있는 스토리로 변환하는 전문가입니다.

**작업:**
아래 문제들을 JSON 형식의 스토리로 변환해주세요.

**JSON 형식:**
{
  "content_ko": [
    {"type": "normal", "text": "스토리"},
    {"type": "answer", "text": "정답 키워드"},
    {"type": "normal", "text": " 계속 (Q.번호)."}
  ],
  "linkedQuestions": [문제번호들]
}

**규칙:**
1. type: "normal" = 일반 텍스트
2. type: "answer" = 정답 키워드 (강조됨)
3. 각 문제 끝에 (Q.번호) 표시
4. 모든 정답 키워드 반드시 포함
5. 쉼표로 구분된 답변은 각각 별도 answer 타입으로
6. 자연스럽고 재미있는 스토리로 작성
7. 여러 문제를 하나의 흐름으로 연결

**중요: JSON 문법**
- JSON 내부에서 큰따옴표(")를 사용할 때는 반드시 이스케이프: \"
- 예: "text": "헌법의 첫 문장은 \"우리 국민\"으로"
- 이스케이프 없으면 JSON 파싱 오류 발생

**예시:**
입력:
Q.1: 미국 정부는 어떤 형태의 정부인가?
정답: 공화국, 헌법 기반 연방 공화국, 대의민주주의

출력:
{
  "content_ko": [
    {"type": "normal", "text": "미국이라는 나라는 "},
    {"type": "answer", "text": "공화국"},
    {"type": "normal", "text": "이자 "},
    {"type": "answer", "text": "헌법 기반 연방 공화국"},
    {"type": "normal", "text": ", 그리고 "},
    {"type": "answer", "text": "대의민주주의"},
    {"type": "normal", "text": " 형태로 운영됩니다 (Q.1)."}
  ],
  "linkedQuestions": [1]
}

**이제 다음 문제들을 처리해주세요:**

[여기에 문제와 정답 붙여넣기]
```

---

## 📚 챕터별 문제 범위

| 챕터 | 제목 | 문제 범위 | 문제 수 |
|------|------|-----------|---------|
| 1 | 헌법의 탄생 | Q.1-15 | 15개 |
| 2 | 삼권분립: 입법부 | Q.16-34 | 19개 |
| 3 | 삼권분립: 행정부 | Q.35-45 | 11개 |
| 4 | 삼권분립: 사법부 & 연방/주 | Q.46-54 | 9개 |
| 5 | 선거와 시민권 | Q.55-72 | 18개 |
| 6 | 식민지에서 독립까지 | Q.73-89 | 17개 |
| 7 | 1800년대부터 현대까지 | Q.90-118 | 29개 |
| 8 | 상징과 휴일 | Q.119-128 | 10개 |

---

## 💡 스토리 작성 팁

### 1. 스토리텔링 기법
- ❌ "Q.1의 답은 공화국입니다."
- ✅ "미국이라는 나라는 **공화국**이라는 특별한 형태로 운영됩니다."

### 2. 연결성
- 여러 문제를 자연스럽게 연결
- 시간 순서나 논리적 흐름 활용

### 3. 기억술
- 시각적 이미지 활용
- 비유나 은유 사용
- 스토리에 감정 입히기

### 4. 정확성
- 모든 정답 키워드 누락 없이 포함
- 원문의 의미 왜곡하지 않기

---

## 🔄 작업 후 병합 방법

### 방법 1: 수동 병합
1. `data/question_story.json` 열기
2. `civicsStory` 배열에 새 챕터 추가
3. `chapterId` 순서대로 정렬

### 방법 2: 스크립트 사용
```bash
python scripts/merge_story_chapters.py
```

---

## ✅ 체크리스트

완성 전 확인사항:
- [ ] 모든 정답 키워드가 `type: "answer"`로 표시됨
- [ ] 각 문제 끝에 `(Q.번호)` 표시됨
- [ ] `linkedQuestions`에 모든 문제 번호 포함됨
- [ ] JSON 문법 오류 없음
- [ ] 스토리가 자연스럽고 재미있음
- [ ] 쉼표로 구분된 답변이 각각 별도 타입으로 분리됨

---

## 📞 문의사항

구조나 형식에 대한 질문이 있으면 `AI_STORY_PROMPT.md` 참고
